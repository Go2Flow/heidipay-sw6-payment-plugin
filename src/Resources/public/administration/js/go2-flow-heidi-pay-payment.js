(function(){var e={681:function(e,t,i){var s={"./icons-heidipay-color.svg":192};function n(e){return i(a(e))}function a(e){if(!i.o(s,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id=681},605:function(){},302:function(){},192:function(e){e.exports='<svg id="svg235" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 273.45 277.85"><g id="layer1"><path id="path48" d="M33.59,229.47c3.67,1.35,7.11,2.75,10.56,3.93,31.67,10.73,51.78-4.83,61.95-29.76,3.73-9.76,6.89-19.74,9.45-29.88,3.86-15.89,19.72-25.61,35.45-21.73,5.27,.63,9.51,4.67,10.45,9.94,.84,6.13,1.34,12.29,1.5,18.48,.28,5,0,10.05,.5,14.94,.55,8.91,8.15,15.69,16.97,15.13,2.83-.18,5.56-1.12,7.92-2.72,5.08-3.45,9.31-8.02,12.39-13.37,7.83-12.8,9.67-27.63,11.11-42.29,1.45-14.66,2.22-30.21,3.78-45.32,.69-5.27,2.06-10.42,4.06-15.33,4.1-11.89,16.95-18.18,28.72-14.04,3.67,1.29,6.94,3.51,9.51,6.46,7.37,8.52,12.01,19.09,13.33,30.33,12.69,70.63-30.12,139.35-98.62,158.31-52.56,14.04-98.18,0-136.35-39.31-.83-.84-1.55-1.8-2.33-2.75-.78-.96-.17-.39-.33-1.01h0Z"></path><path id="path2" d="M146.16,0c7.06,1.24,14.22,2.08,21.22,3.71,26.86,6.17,51.23,20.47,69.84,41,1.02,1.04,1.78,2.31,2.22,3.71l-3.5-1.46c-10.1-4.91-21.36-6.85-32.5-5.62-13.87,2.42-25.78,11.34-32.11,24.04-6.24,11.98-10.8,24.77-13.56,38.02-3.34,15.32-18.06,25.24-33.34,22.46-6.8-.15-12.41-5.45-13-12.3-.66-6.02-.96-12.08-.89-18.14,0-4.1,0-8.26-.33-12.3-.43-9.29-8.24-16.48-17.43-16.04-3.61,.17-7.07,1.52-9.85,3.85-4.48,3.73-8.2,8.31-10.95,13.48-6.31,12.49-9.89,26.2-10.5,40.21-1.55,15.05-2.17,30.21-3.72,45.32-.73,5.56-2.12,11.01-4.17,16.23-4.15,11.94-17.09,18.22-28.9,14.02-3.91-1.39-7.36-3.83-9.99-7.06-7.91-10.06-12.58-22.33-13.39-35.16C-7.98,90.24,32.93,25.75,97.71,6.01c8.42-2.17,16.95-3.9,25.56-5.17L127.21,0h18.95Z"></path></g></svg>'},313:function(){let{Application:e}=Shopware,t=Shopware.Classes.ApiService;class i extends t{constructor(e,t,i="heidipay_order_service"){super(e,t,i)}submitRefund(e){let i=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/refund`,{transaction:e},{headers:i}).then(e=>t.handleResponse(e))}}e.addServiceProvider("HeidiPayOrderService",t=>new i(e.getContainer("init").httpClient,t.loginService))},329:function(){let{Application:e}=Shopware,t=Shopware.Classes.ApiService;class i extends t{constructor(e,t,i="heidipay_settings_service"){super(e,t,i)}validateApiCredentials(e){let i=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{merchant_key:e},{headers:i}).then(e=>t.handleResponse(e))}}e.addServiceProvider("HeidiPaySettingsService",t=>new i(e.getContainer("init").httpClient,t.loginService))},178:function(e,t,i){var s=i(605);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),i(346).Z("053b8158",s,!0,{})},505:function(e,t,i){var s=i(302);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),i(346).Z("6e841d06",s,!0,{})},346:function(e,t,i){"use strict";function s(e,t){for(var i=[],s={},n=0;n<t.length;n++){var a=t[n],r=a[0],o={id:e+":"+n,css:a[1],media:a[2],sourceMap:a[3]};s[r]?s[r].parts.push(o):i.push(s[r]={id:r,parts:[o]})}return i}i.d(t,{Z:function(){return g}});var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,d=0,l=!1,c=function(){},p=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,i,n){l=i,p=n||{};var r=s(e,t);return m(r),function(t){for(var i=[],n=0;n<r.length;n++){var o=a[r[n].id];o.refs--,i.push(o)}t?m(r=s(e,t)):r=[];for(var n=0;n<i.length;n++){var o=i[n];if(0===o.refs){for(var d=0;d<o.parts.length;d++)o.parts[d]();delete a[o.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],s=a[i.id];if(s){s.refs++;for(var n=0;n<s.parts.length;n++)s.parts[n](i.parts[n]);for(;n<i.parts.length;n++)s.parts.push(y(i.parts[n]));s.parts.length>i.parts.length&&(s.parts.length=i.parts.length)}else{for(var r=[],n=0;n<i.parts.length;n++)r.push(y(i.parts[n]));a[i.id]={id:i.id,refs:1,parts:r}}}}function f(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function y(e){var t,i,s=document.querySelector("style["+u+'~="'+e.id+'"]');if(s){if(l)return c;s.parentNode.removeChild(s)}if(h){var n=d++;t=w.bind(null,s=o||(o=f()),n,!1),i=w.bind(null,s,n,!0)}else t=b.bind(null,s=f()),i=function(){s.parentNode.removeChild(s)};return t(e),function(s){s?(s.css!==e.css||s.media!==e.media||s.sourceMap!==e.sourceMap)&&t(e=s):i()}}var v=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function w(e,t,i,s){var n=i?"":s.css;if(e.styleSheet)e.styleSheet.cssText=v(t,n);else{var a=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function b(e,t){var i=t.css,s=t.media,n=t.sourceMap;if(s&&e.setAttribute("media",s),p.ssrId&&e.setAttribute(u,t.id),n&&(i+="\n/*# sourceURL="+n.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={id:s,exports:{}};return e[s](a,a.exports,i),a.exports}i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="bundles/go2flowheidipaypayment/",window?.__sw__?.assetPath&&(i.p=window.__sw__.assetPath+"/bundles/go2flowheidipaypayment/"),function(){"use strict";let e=Shopware.Classes.ApiService;var t=class extends e{constructor(e,t,i="heidipay_api_service"){super(e,t,i)}get(t){return this.httpClient.get(`_action/${this.getApiBasePath()}${t}`,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}post(t,i){return this.httpClient.post(`_action/${this.getApiBasePath()}${t}`,i,{headers:this.getBasicHeaders()}).then(t=>e.handleResponse(t))}};i(329),i(313);var s=(()=>{let e=i(681);return e.keys().reduce((t,i)=>{let s=i.split(".")[1].split("/")[1];return t.push({name:s,functional:!0,render(t,s){let n=s.data;return t("span",{class:[n.staticClass,n.class],style:n.style,attrs:n.attrs,on:n.on,domProps:{innerHTML:e(i)}})}}),t},[])})();let{Component:n}=Shopware;(()=>s.map(e=>n.register(e.name,e)))();let{Component:a}=Shopware;a.register("heidipay-settings-icon",{template:'{% block heidipay_settings_icon %}\n    <icons-heidipay-color class="sw-icon"></icons-heidipay-color>\n{% endblock %}\n'}),i(178);let{Component:r}=Shopware;r.override("sw-settings-index",{template:'{% block sw_settings_content_card_slot_plugins %}\n    {% parent %}\n\n    <sw-settings-item :label="$tc(\'HeidiPay.mainMenuItemGeneral\')"\n                      :to="{ name: \' heidipay.settings.index\' }"\n                      :backgroundEnabled="false">\n        <template #icon>\n            <img class="sw-settings-index__heidipay-icon" :src="\'heidipay/administration/plugin.png\' | asset">\n        </template>\n    </sw-settings-item>\n{% endblock %}\n'}),i(505);let{Component:o,Mixin:d}=Shopware;o.register("heidipay-settings",{template:'{% block heidipay_settings %}\n<sw-page class="heidipay-settings">\n    {% block heidipay_settings_header %}\n    <template slot="smart-bar-header">\n        <h2>\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon name="small-arrow-medium-right" small></sw-icon>\n            {{ $tc(\'HeidiPay.mainMenuItemGeneral\') }}\n        </h2>\n    </template>\n    {% endblock %}\n    {% block heidipay_actions %}\n    <template #smart-bar-actions>\n        {% block heidipay_settings_actions_feedback %}\n        <sw-button\n            @click="isSupportModalOpen = true"\n            :disabled="false"\n            variant="ghost"\n            :square="false"\n            :block="false"\n            :isLoading="false">\n            {{ $tc(\'HeidiPay.supportModal.supportButton\') }}\n        </sw-button>\n        {% endblock %}\n        {% block heidipay_settings_actions_test %}\n        <sw-button-process @click="onTest"\n                           :isLoading="isTesting"\n                           :processSuccess="isTestSuccessful"\n                           :disabled="isLoading">\n            {{ $tc(\'HeidiPay.settingsForm.test\') }}\n        </sw-button-process>\n        {% endblock %}\n\n\n        {% block heidipay_settings_actions_save %}\n        <sw-button-process\n            class="sw-settings-login-registration__save-action"\n            :isLoading="isLoading"\n            :processSuccess="isSaveSuccessful"\n            :disabled="isLoading || isTesting"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click="onSave">\n            {{ $tc(\'HeidiPay.settingsForm.save\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n    {% block heidipay_settings_content %}\n    <template #content>\n        <sw-modal\n            v-if="isSupportModalOpen"\n            @modal-close="isSupportModalOpen = false"\n            :title="$tc(\'HeidiPay.supportModal.title\')"\n            class="heidpay-support sw-modal--medium">\n            <sw-container columns="1fr 1fr">\n                <div class="heidpay-support__col">\n                    <div class="heidpay-support__icon">\n                        <sw-icon name="regular-file" :large="true"></sw-icon>\n                    </div>\n                    <p class="heidpay-support__desc">\n                        {{ $tc(\'HeidiPay.supportModal.manualDesc\') }}\n                    </p>\n                    <sw-button\n                        :disabled="false"\n                        variant="primary"\n                        :square="false"\n                        :block="false"\n                        :isLoading="false"\n                        link="https://www.heidipay.com/de-ch/">\n                        {{ $tc(\'HeidiPay.supportModal.manualButton\') }}\n                    </sw-button>\n                </div>\n                <div class="heidpay-support__col">\n                    <div class="heidpay-support__icon">\n                        <sw-icon name="regular-headset" :large="true"></sw-icon>\n                    </div>\n                    <p class="heidpay-support__desc">\n                        {{ $tc(\'HeidiPay.supportModal.supportDesc\') }}\n                    </p>\n                    <sw-button\n                        :disabled="false"\n                        variant="primary"\n                        :square="false"\n                        :block="false"\n                        :isLoading="false"\n                        link="mailto:kontakt@go2flow.ch">\n                        {{ $tc(\'HeidiPay.supportModal.supportButton\') }}\n                    </sw-button>\n                </div>\n            </sw-container>\n        </sw-modal>\n\n        <sw-card-view>\n            <div class="sw-system-config">\n                <div  class="sw-system-config__global-sales-channel-switch">\n                    <h3>{{ $tc(\'HeidiPay.settingsForm.attention\') }}</h3>\n                    <p style="margin-bottom: 10px;">{{ $tc(\'HeidiPay.settingsForm.attentionText\') }}</p>\n                    <p style="margin-bottom: 10px;">{{ $tc(\'HeidiPay.settingsForm.descriptionWebservice\') }}</p>\n                    <p style="margin-bottom: 10px;"><a href="https://merchant-portal.heidipay.com/auth/login" target="_blank" rel="noopener nofollow">Merchant-Portal</a> </p>\n                </div>\n            </div>\n            <sw-system-config\n                    ref="systemConfig"\n                    domain="Go2FlowHeidiPayPayment.settings"\n                    sales-channel-switchable\n                    :sales-channel-id="salesChannelId"\n            />\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n\n',mixins:[d.getByName("notification"),d.getByName("sw-inline-snippet")],inject:["HeidiPaySettingsService"],data(){return{isLoading:!1,isTesting:!1,isSaveSuccessful:!1,isTestSuccessful:!1,HeidiSecretKey:!1,isSupportModalOpen:!1,validations:{heidiSecretKey:{required:!0},heidiPromotionPublicApiKey:{required:!0},heidiPromotionWidgetFee:{required:!0},heidiPromotionProductMode:{required:!0},heidiPromotionTerms:{required:!0},heidiPromotionTermsCredit:{required:!0}}}},methods:{saveFinish(){this.isSaveSuccessful=!1},onSave(){this.isLoading=!0;let e=this.validateConfig();if(e.length){this.createNotificationsForValidation(e),this.isLoading=!1;return}this.isSaveSuccessful=!1,this.$refs.systemConfig.saveAll().then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0}).catch(()=>{this.isLoading=!1})},onTest(){this.isTesting=!0,this.isTestSuccessful=!1;let e=this.getConfigValue("heidiSecretKey");this.HeidiPaySettingsService.validateApiCredentials(e).then(e=>{let t=e.credentialsValid;e.error,t?(this.createNotificationSuccess({title:this.$tc("HeidiPay.settingsForm.messages.titleSuccess"),message:this.$tc("HeidiPay.settingsForm.messages.messageTestSuccess")}),this.isTestSuccessful=!0):this.createNotificationError({title:this.$tc("HeidiPay.settingsForm.messages.titleError"),message:this.$tc("HeidiPay.settingsForm.messages.messageTestError")}),this.isTesting=!1}).catch(e=>{this.createNotificationError({title:this.$tc("HeidiPay.settingsForm.messages.titleError"),message:this.$tc("HeidiPay.settingsForm.messages.messageTestErrorGeneral")}),this.isTesting=!1})},createNotificationsForValidation(e){e.forEach(e=>{let t="",i=this.$tc("HeidiPay.settingsForm.fields."+e.field);e.errors.forEach(e=>{t=t+" "+this.$tc("HeidiPay.settingsForm.messages."+e,{field:i})}),this.createNotificationError({title:this.$tc("HeidiPay.settingsForm.messages.titleError"),message:t})})},validateConfig(){let e=[];for(let[t,i]of Object.entries(this.$refs.systemConfig.actualConfigData))for(let[s,n]of Object.entries(this.validations)){let a=[],r=i[`Go2FlowHeidiPayPayment.settings.${s}`];n.required&&!this.isSet(r,"null"!==t)&&a.push("required"),a.length&&e.push({sci:t,field:s,errors:a})}return e},isSet(e,t){return""!==e&&(null!==e||t)&&(!Array.isArray(e)||e.length)},getConfigValue(e){let t=this.$refs.systemConfig.actualConfigData.null,i=this.$refs.systemConfig.currentSalesChannelId;return(null===i?t:this.$refs.systemConfig.actualConfigData[i])[`Go2FlowHeidiPayPayment.settings.${e}`]||t[`Go2FlowHeidiPayPayment.settings.${e}`]}}});let{Component:l,Mixin:c,State:p,Context:u}=Shopware,{mapPropertyErrors:h,mapGetters:g,mapState:m}=Shopware.Component.getComponentHelper(),{Criteria:f}=Shopware.Data;Shopware.Utils,l.register("heidipay-order-detail",{template:'{% block maximizly_shipping_detail %}\n\n<div class="sw-order-detail-heidipay">\n    <sw-card :title="$tc(\'HeidiPay.order.detail.actions\')">\n        <sw-button-process\n            class=""\n            :isLoading="isLoading"\n            :disabled="isLoading || !buttonEnabled"\n            variant="primary"\n            @click.prevent="submitRefund">\n            {{ $tc(\'HeidiPay.order.detail.actions_refund\') }}\n        </sw-button-process>\n    </sw-card>\n</div>\n\n{% endblock %}\n',inject:["repositoryFactory","HeidiPayOrderService"],mixins:[c.getByName("notification")],metaInfo(){return{title:"Heidipay"}},data(){return{isLoading:!0,transaction:null}},computed:{buttonEnabled(){return!(null===this.transaction||"cancelled"===this.transaction.stateMachineState.technicalName||"refunded"===this.transaction.stateMachineState.technicalName||this.transaction.amount.totalPrice<=0)}},created(){this.loadOrderData()},methods:{submitRefund(){this.isLoading=!0,this.HeidiPayOrderService.submitRefund(this.$route.params.transaction).then(e=>{e.success?this.createNotificationSuccess({title:this.$tc("HeidiPay.order.messages.refundSuccessTitle"),message:this.$tc("HeidiPay.order.messages.refundSuccessMessage")}):this.createNotificationError({title:this.$tc("HeidiPay.order.messages.refundErrorTitle"),message:this.$tc("HeidiPay.order.messages.refundErrorMessage")})}).catch(e=>{console.error(e)}).finally(()=>{this.loadOrderData()})},loadOrderData(){let e=this.repositoryFactory.create("order_transaction"),t=new f(1,1);return t.addAssociation("order"),t.addAssociation("order.lineItems"),t.addAssociation("stateMachineState"),e.get(this.$route.params.transaction,u.api,t).then(e=>{this.transaction=e,this.isLoading=!1})}}});var y=JSON.parse('{"HeidiPay":{"mainMenuItemGeneral":"HeidiPay","module":{"title":"HeidiPay","description":"Buy now, pay later."},"settingsForm":{"title":"HeidiPay","test":"Teste den API-Zugang","save":"Speichern","attention":"Wichtig","attentionText":"Damit das Plugin funktioniert, m\xfcssen alle * Pflichtfelder ausgef\xfcllt und die korrekten Adressdaten hinterlegt sein.","descriptionWebservice":"Den Secret Key bekommen Sie direkt von Heidipay zugewiesen und zugeschickt. Falls Sie diese noch nicht beantragt oder zugeschickt bekommen haben, k\xf6nnen Sie diese unter nachfolgendem Link bestellen: ","fields":{"heidiSecretKey":"Secret API Key","heidiPromotionPublicApiKey":"Public API Key","heidiPromotionWidgetFee":"Geb\xfchr","heidiPromotionProductMode":"Werbebotschaft Produkt","heidiPromotionTerms":"Anzahl der Raten (BNPL)","heidiPromotionTermsCredit":"Anzahl der Raten (Credit)"},"messages":{"required":"{field} darf nicht leer sein.","messageNotBlank":"Dieses Feld darf nicht leer sein.","titleSuccess":"Erfolg","titleError":"Fehler","titleMissing":"Pflichtfelder fehlen","messageMissing":"Bitte f\xfcllen Sie alle Pflichtfelder aus.","messageTestSuccess":"Die API-Zugangsdaten sind korrekt.","messageTestError":"Die API-Zugangsdaten sind falsch.","messageTestErrorGeneral":"Die API-Zugangsdaten konnten nicht verifiziert werden.","messageTestTitleEmpty":"Die API-Zugangsdaten sind leer.","messageTestErrorEmpty":"Die API-Zugangsdaten d\xfcrfen nicht leer sein.","messageSaveSuccess":"Die Plugin-Einstellungen wurden gespeichert.","messageSaveError":"Die Plugin-Einstellungen konnten nicht gespeichert werden."}},"supportModal":{"supportButton":"Support","title":"Wie k\xf6nnen wir Ihnen helfen?","supportDesc":"Kontaktieren Sie unser Support-Team","manualButton":"Dokumentation","manualDesc":"Lesen Sie unsere Integrations Anleitung"},"order":{"detail":{"actions":"Aktionen","actions_refund":"R\xfcckerstatten","tab":"Heidipay"},"messages":{"refundSuccessTitle":"R\xfcckerstattung erfolgreich!","refundSuccessMessage":"Die R\xfcckerstattung wurde erfolgreich verarbeitet","refundErrorTitle":"R\xfcckerstattung fehlgeschlagen!","refundErrorMessage":"Bitte versuchen Sie es erneut oder wenden Sie sich an den Heidipay-Support"}}}}'),v=JSON.parse('{"HeidiPay":{"mainMenuItemGeneral":"HeidiPay","module":{"title":"HeidiPay","description":"HeidiPay"},"settingsForm":{"title":"HeidiPay","test":"Test API-Credentials","save":"Save","attention":"Important","attentionText":"For the plugin to work, all *mandatory fields must be filled in and the correct address data must be stored.","descriptionWebservice":"The Client Secret Key will be assigned and sent to you directly by HeidiPay. If you have not yet requested or received them, you can order them at the following link: ","fields":{"heidiSecretKey":"Secret API Key","heidiPromotionPublicApiKey":"Public API Key","heidiPromotionWidgetFee":"Display price","heidiPromotionProductMode":"Promotion Product","heidiPromotionTerms":"Number of Instalments (BNPL)","heidiPromotionTermsCredit":"Number of Instalments (Credit)"},"messages":{"required":"{field} must not be empty.","messageNotBlank":"This Field must not be empty.","titleSuccess":"Success","titleError":"Error","titleMissing":"Required Fields","messageMissing":"Please fill out all required fields","messageTestSuccess":"The API credentials are correct.","messageTestError":"The API credentials are wrong.","messageTestErrorGeneral":"The API-Credentials could not be verified.","messageTestTitleEmpty":"The API credentials are empty.","messageTestErrorEmpty":"The API credentials cant be empty. please fill in the Secret Key.","messageSaveSuccess":"The plugin settings have been saved.","messageSaveError":"The plugin settings could not be saved."}},"supportModal":{"supportButton":"Support","title":"How Can We Help You?","supportDesc":"Contact our support team","manualButton":"Manual","manualDesc":"Read our integration manual"},"order":{"detail":{"actions":"Actions","actions_refund":"Refund","tab":"Heidipay"},"messages":{"refundSuccessTitle":"Refund successful!","refundSuccessMessage":"The refund was successfully processed","refundErrorTitle":"Refund failed!","refundErrorMessage":"Please try again or contact the Heidipay-Support"}}}}');let{Module:w}=Shopware;w.register("heidipay-heidipay",{type:"plugin",name:"HeidiPay",title:"HeidiPay.mainMenuItemGeneral",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",icon:"regular-cog",snippets:{"de-DE":y,"de-CH":y,"en-GB":v},routes:{index:{component:"heidipay-settings",path:"index",meta:{parentPath:"sw.settings.index"}}},settingsItem:{name:"heidipay-settings",group:"plugins",to:"heidipay.heidipay.index",iconComponent:"heidipay-settings-icon",backgroundEnabled:!0},routeMiddleware(e,t){"sw.order.detail"===t.name&&t.children.push({component:"heidipay-order-detail",name:"heidipay.order.detail",path:"/sw/order/detail/:id/heidipay/:transaction",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}),e(t)}});var b=JSON.parse('{"sw-order":{"list":{"heidipay_reference":"Heidipay Reference"}}}'),P=JSON.parse('{"sw-order":{"list":{"heidipay_reference":"Heidipay Reference"}}}');let{Component:S}=Shopware;Shopware.Locale.extend("de-DE",b),Shopware.Locale.extend("en-GB",P),Shopware.Component.override("sw-order-list",{template:'{% block sw_order_list_grid_columns %}\n    {% parent() %}\n\n    {% block sw_order_list_grid_columns_heidipay_reference %}\n        <template #column-id="{ item }">\n            {{ getheidiPayReference(item)}}\n        </template>\n    {% endblock %}\n\n{% endblock %}',methods:{getOrderColumns(){let e=this.$super("getOrderColumns");return e.push({property:"id",label:"sw-order.list.heidipay_reference",align:"left"}),e},getheidiPayReference(e){return e.transactions.length&&e.transactions.find(e=>e.customFields&&e.customFields.external_contract_uuid)?"HP_"+e.orderNumber:"-"}}});let{Component:_,Context:k}=Shopware,{Criteria:H}=Shopware.Data;_.override("sw-order-detail",{template:'{% block sw_order_detail_content_tabs_general %}\n    {% parent %}\n\n    <template v-for="transaction in heidipayTransactions">\n        {% block heidipay_payment_payment_tab %}\n            <sw-tabs-item :route="{ name: \'heidipay.order.detail\', params: { id: $route.params.id, transaction: transaction.id } }" title="Heidipay">\n                {{ $tc(\'HeidiPay.order.detail.tab\') }}\n            </sw-tabs-item>\n        {% endblock %}\n    </template>\n\n{% endblock %}\n',data(){return{heidipayTransactions:[]}},watch:{orderId:{deep:!0,handler(){this.heidipayTransactions=[],this.orderId&&this.loadOrderData()},immediate:!0}},methods:{loadOrderData(){let e=this.repositoryFactory.create("order"),t=new H(1,1);return t.addAssociation("transactions"),t.addAssociation("transactions.paymentMethod"),e.get(this.$route.params.id,k.api,t).then(e=>{this.loadTransactions(e)})},loadTransactions(e){e.transactions.forEach(e=>{"heidipay_heidipay"===e.paymentMethod.technicalName&&this.heidipayTransactions.push(e)})}}});let{Application:C}=Shopware,T=C.getContainer("init");C.addServiceProvider("HeidiPayAPIService",e=>new t(T.httpClient,e.loginService))}()})();